<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>S3</title>
  </head>
  <body>
    <div>
      <h2>S3 - Simple Storage Service</h2>
      <p>S3 allows us to store objects (files) in buckets (directories)</p>
    </div>
    <div>
      <h3>Bucket</h3>
      <p>
        Buckets must have a globally unique name and they are defined at the
        region level. S3 console is global, but the buckets are placed in
        different regions.
      </p>
    </div>
    <div>
      <h2>Versioning</h2>
      <p>
        Versioning is done on a bucket level.If versioning is Enabled, when file
        with the same key is uploaded it is not replacing the previous, but
        keeping both with different version IDs. And when file is deleted, it
        still exists, but its type is DeleteMarker.
      </p>
    </div>
    <div>
      <h2>Encryption</h2>
      <p>Encryption can be done on a file level or for the whole bucket.</p>
      <p>SSE stands for server side encryption</p>
      <p>Encryption types</p>
      <ul>
        <li>
          <b>SSE-S3</b> - this encryption uses keys handled and managed by S3.
          The object is encrypted server side. Must set header
          <b>"x-amz-server-side-encryption":"AES256"</b> to enable this type of
          encryption.
        </li>
        <li>
          <b>SSE-KMS</b> - this encryption uses keys handled and managed by KMS.
          Must set header <b>"x-amz-server-side-encryption":"aws:kms"</b> to
          enable this type of encryption.
        </li>
        <li>
          <b>SSE-C</b> - this encryption uses keys managed by the customer
          outside AWS. HTTPS must be used. Encryption key must be provided in
          the headers for every request.
        </li>
        <li><b>Client side encryption</b></li>
      </ul>
    </div>
    <div>
      <h3>Security</h3>
      <h4>User based</h4>
      <p>
        IAM policies which API call should be allowed for a specific user role
        from the IAM console.
      </p>
      <h4>Resource based</h4>
      <ul>
        <li>Bucket policies - bucket wide rules</li>
        <li>Object Access Control List (ACL) - finer grain</li>
        <li>Bucket Access Control List (ACL) - less common</li>
      </ul>
    </div>
    <div>
      <h3>MFA Delete</h3>
      <p>Only the bucket owner (root account) can Enable/Disable MFA Delete.</p>
    </div>
    <div>
      <h3>Replication</h3>
      <p>
        To use replication, we must enable versioning in source and destination.
        Copying is asynchronous.
      </p>
      <ul>
        <li>Cross Region Replication (CRR)</li>
        <li>Same Region Replication (SRR)</li>
      </ul>
    </div>
    <div>
      <h3>Pre-signed URLs</h3>
      <p>We can generate pre-signed urls using CLI or SDK.</p>
    </div>
  </body>
</html>
